!function($){"use strict";var n=$("body");$.DLMenu=function(n,e){this.$el=$(e),this._init(n)},$.DLMenu.defaults={animationClasses:{classin:"dl-animate-in-1",classout:"dl-animate-out-1"},onLevelClick:function(n,e){return!1},onLinkClick:function(n,e){return!1},backLabel:"Terug",useActiveItemAsBackLabel:!1,useActiveItemAsLink:!0,resetOnClose:!0},$.DLMenu.prototype={_init:function(n){this.options=$.extend(!0,{},$.DLMenu.defaults,n),this._config(),this.animEndEventName="animationend.dlmenu",this.transEndEventName="transitionend.dlmenu",this.supportAnimations=!0,this.supportTransitions=!0,this._initEvents()},_config:function(){this.open=!1,this.$trigger=this.$el.children(".dl-trigger"),this.$menu=this.$el.children("ul.dl-menu"),this.$menuitems=this.$menu.find("li:not(.dl-back)"),this.$el.find("ul.sub-menu").prepend('<li class="dl-back"><a href="#">'+this.options.backLabel+"</a></li>"),this.$back=this.$menu.find("li.dl-back"),this.options.useActiveItemAsBackLabel&&this.$back.each(function(){var n=$(this),e=n.parents("li:first").find("a:first").text();n.find("a").html(e)}),this.options.useActiveItemAsLink&&this.$el.find("ul.sub-menu").prepend(function(){var n=$(this).parents("li:not(.dl-back):first").find("a:first");return'<li class="dl-parent"><a href="'+n.attr("href")+'">'+n.text()+"</a></li>"})},_initEvents:function(){var e=this;this.$trigger.on("click.dlmenu",function(){return e.open?e._closeMenu():(e._openMenu(),n.off("click").children().on("click.dlmenu",function(){e._closeMenu()})),!1}),this.$menuitems.on("click.dlmenu",function(n){n.stopPropagation();var s=$(this),i=s.children("ul.sub-menu");if(i.length>0&&!$(n.currentTarget).hasClass("dl-subviewopen")){var t=i.clone().css("opacity",0).insertAfter(e.$menu),o=function(){e.$menu.off(e.animEndEventName).removeClass(e.options.animationClasses.classout).addClass("dl-subview"),s.addClass("dl-subviewopen").parents(".dl-subviewopen:first").removeClass("dl-subviewopen").addClass("dl-subview"),t.remove()};return setTimeout(function(){t.addClass(e.options.animationClasses.classin),e.$menu.addClass(e.options.animationClasses.classout),e.supportAnimations?e.$menu.on(e.animEndEventName,o):o.call(),e.options.onLevelClick(s,s.children("a:first").text())}),!1}e.options.onLinkClick(s,n)}),this.$back.on("click.dlmenu",function(n){var s=$(this),i=s.parents("ul.sub-menu:first"),t=i.parent(),o=i.clone().insertAfter(e.$menu),a=function(){e.$menu.off(e.animEndEventName).removeClass(e.options.animationClasses.classin),o.remove()};return setTimeout(function(){o.addClass(e.options.animationClasses.classout),e.$menu.addClass(e.options.animationClasses.classin),e.supportAnimations?e.$menu.on(e.animEndEventName,a):a.call(),t.removeClass("dl-subviewopen");var n=s.parents(".dl-subview:first");n.is("li")&&n.addClass("dl-subviewopen"),n.removeClass("dl-subview")}),!1})},closeMenu:function(){this.open&&this._closeMenu()},_closeMenu:function(){var n=this,e=function(){n.$menu.off(n.transEndEventName),n.options.resetOnClose&&n._resetMenu()};this.$menu.removeClass("dl-menuopen"),this.$menu.addClass("dl-menu-toggle"),this.$trigger.removeClass("dl-active"),this.supportTransitions?this.$menu.on(this.transEndEventName,e):e.call(),this.open=!1},openMenu:function(){this.open||this._openMenu()},_openMenu:function(){var n=this;$("body").on("click.dlmenu",function(){n._closeMenu()}),this.$menu.addClass("dl-menuopen dl-menu-toggle").on(this.transEndEventName,function(){$(this).removeClass("dl-menu-toggle")}),this.$trigger.addClass("dl-active"),this.open=!0},_resetMenu:function(){this.$menu.removeClass("dl-subview"),this.$menuitems.removeClass("dl-subview dl-subviewopen")}};var e=function(n){window.console&&window.console.error(n)};$.fn.dlmenu=function(n){if("string"==typeof n){var s=Array.prototype.slice.call(arguments,1);this.each(function(){var i=$.data(this,"dlmenu");return i?$.isFunction(i[n])&&"_"!==n.charAt(0)?void i[n].apply(i,s):void e("no such method '"+n+"' for dlmenu instance"):void e("cannot call methods on dlmenu prior to initialization; attempted to call method '"+n+"'")})}else this.each(function(){var e=$.data(this,"dlmenu");e?e._init():e=$.data(this,"dlmenu",new $.DLMenu(n,this))});return this}}(jQuery);